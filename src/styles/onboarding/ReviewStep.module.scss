.cReviewStep {
  &:global {
    &.c-review-step {
      width: 100%;
      max-width: 100%;

      .c-review-step-header {
        text-align: center;
        margin-bottom: var(--from-64-to-40px);

        h2 {
          font-size: var(--font-size-h2);
          font-weight: 700;
          margin-bottom: var(--from-24-to-16px);
          color: var(--neutral-0);
          line-height: 1.125;
        }

        p {
          font-size: var(--from-20-to-16px);
          color: var(--neutral-400);
          margin: 0;
          line-height: 1.5;
        }
      }

      .c-review-step-content {
        display: grid;
        gap: var(--from-48-to-32px);
      }

      .c-review-step-section {
        background-color: var(--neutral-950);
        border: 1px solid var(--neutral-800);
        border-radius: var(--px16);
        padding: var(--from-32-to-24px);

        .c-review-step-section-title {
          font-size: var(--font-size-h4);
          font-weight: 600;
          margin-bottom: var(--from-24-to-20px);
          color: var(--neutral-0);
          line-height: 1.2;
          padding-bottom: var(--px16);
          border-bottom: 1px solid var(--neutral-800);
        }

        .c-review-step-section-content {
          display: grid;
          gap: var(--from-20-to-16px);
        }

        .c-review-step-info-grid {
          display: grid;
          gap: var(--from-20-to-16px);

          @media (min-width: 768px) {
            grid-template-columns: repeat(2, 1fr);
          }

          .c-review-step-info-item {
            background-color: var(--neutral-900);
            border: 1px solid var(--neutral-700);
            border-radius: var(--px12);
            padding: var(--from-20-to-16px);

            .c-review-step-info-label {
              font-size: var(--from-14-to-12px);
              color: var(--neutral-400);
              margin-bottom: var(--px8);
              text-transform: uppercase;
              letter-spacing: 0.05em;
              font-weight: 600;
            }

            .c-review-step-info-value {
              font-size: var(--from-16-to-14px);
              color: var(--neutral-0);
              font-weight: 500;
              line-height: 1.4;
            }
          }
        }

        .c-review-step-modules-grid {
          display: grid;
          gap: var(--from-16-to-12px);

          @media (min-width: 768px) {
            grid-template-columns: repeat(2, 1fr);
          }

          @media (min-width: 1024px) {
            grid-template-columns: repeat(3, 1fr);
          }

          .c-review-step-module-item {
            display: flex;
            align-items: center;
            gap: var(--px12);
            padding: var(--from-16-to-12px);
            background-color: var(--neutral-900);
            border: 1px solid var(--neutral-700);
            border-radius: var(--px8);

            &.is-enabled {
              background-color: color-mix(in srgb, var(--primary-500) 5%, var(--neutral-900));
              border-color: var(--primary-600);
            }

            .c-review-step-module-icon {
              width: var(--px20);
              height: var(--px20);
              color: var(--primary-400);
              flex-shrink: 0;
            }

            .c-review-step-module-name {
              font-size: var(--from-14-to-12px);
              color: var(--neutral-200);
              font-weight: 500;
            }

            .c-review-step-module-status {
              margin-left: auto;
              width: var(--px16);
              height: var(--px16);
              color: var(--success-400);
              flex-shrink: 0;
            }
          }
        }

        .c-review-step-users-list {
          display: grid;
          gap: var(--from-16-to-12px);

          .c-review-step-user-item {
            display: flex;
            align-items: center;
            gap: var(--px16);
            padding: var(--from-20-to-16px);
            background-color: var(--neutral-900);
            border: 1px solid var(--neutral-700);
            border-radius: var(--px12);

            .c-review-step-user-avatar {
              width: var(--px48);
              height: var(--px48);
              background-color: var(--primary-500);
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              color: var(--neutral-0);
              font-weight: 600;
              font-size: var(--from-18-to-16px);
              flex-shrink: 0;
            }

            .c-review-step-user-info {
              flex: 1;

              .c-review-step-user-name {
                font-size: var(--from-16-to-14px);
                font-weight: 600;
                color: var(--neutral-0);
                margin-bottom: var(--px4);
                line-height: 1.3;
              }

              .c-review-step-user-email {
                font-size: var(--from-14-to-12px);
                color: var(--neutral-400);
                line-height: 1.4;
              }
            }

            .c-review-step-user-role {
              padding: var(--px8) var(--px12);
              background-color: color-mix(in srgb, var(--primary-500) 10%, transparent);
              border: 1px solid var(--primary-700);
              border-radius: var(--px6);
              font-size: var(--from-12-to-10px);
              color: var(--primary-300);
              font-weight: 600;
              text-transform: uppercase;
              letter-spacing: 0.05em;
            }
          }
        }

        .c-review-step-departments-list {
          display: flex;
          flex-wrap: wrap;
          gap: var(--from-12-to-8px);

          .c-review-step-department-item {
            display: inline-flex;
            align-items: center;
            gap: var(--px8);
            padding: var(--px8) var(--px12);
            background-color: var(--neutral-900);
            border: 1px solid var(--neutral-700);
            border-radius: var(--px6);
            font-size: var(--from-14-to-12px);
            color: var(--neutral-200);
            font-weight: 500;

            .c-review-step-department-icon {
              width: var(--px14);
              height: var(--px14);
              color: var(--neutral-400);
            }
          }
        }

        .c-review-step-scrollable-content {
          max-height: 400px;
          overflow-y: auto;
          padding-right: var(--px8);
          margin-right: calc(-1 * var(--px8));

          &::-webkit-scrollbar {
            width: var(--px8);
          }

          &::-webkit-scrollbar-track {
            background-color: var(--neutral-800);
            border-radius: var(--px4);
          }

          &::-webkit-scrollbar-thumb {
            background-color: var(--neutral-600);
            border-radius: var(--px4);
            transition: background-color 0.3s ease;

            &:hover {
              background-color: var(--neutral-500);
            }
          }
        }
      }

      .c-review-step-terms-section {
        background-color: var(--neutral-900);
        border: 1px solid var(--neutral-700);
        border-radius: var(--px16);
        padding: var(--from-32-to-24px);

        .c-review-step-terms-content {
          display: flex;
          align-items: flex-start;
          gap: var(--px16);

          .c-review-step-terms-text {
            flex: 1;

            .c-review-step-terms-title {
              font-size: var(--font-size-h5);
              font-weight: 600;
              color: var(--neutral-0);
              margin-bottom: var(--px8);
              line-height: 1.25;
            }

            .c-review-step-terms-description {
              font-size: var(--from-14-to-12px);
              color: var(--neutral-400);
              margin: 0;
              line-height: 1.5;

              a {
                color: var(--primary-400);
                text-decoration: none;
                transition: color 0.3s ease;

                &:hover {
                  color: var(--primary-300);
                  text-decoration: underline;
                }
              }
            }
          }

          .c-review-step-terms-switch {
            flex-shrink: 0;
            margin-top: var(--px4);
          }
        }
      }

      // Mobile responsiveness
      @media (max-width: 767px) {
        .c-review-step-header {
          margin-bottom: var(--from-48-to-32px);

          h2 {
            font-size: var(--font-size-h3);
          }

          p {
            font-size: var(--from-18-to-16px);
          }
        }

        .c-review-step-content {
          gap: var(--from-32-to-24px);
        }

        .c-review-step-section {
          padding: var(--from-24-to-20px);

          .c-review-step-section-title {
            font-size: var(--font-size-h5);
          }

          .c-review-step-info-grid {
            grid-template-columns: 1fr !important;
          }

          .c-review-step-modules-grid {
            grid-template-columns: 1fr !important;
          }

          .c-review-step-user-item {
            padding: var(--from-16-to-12px);

            .c-review-step-user-avatar {
              width: var(--px40);
              height: var(--px40);
              font-size: var(--from-16-to-14px);
            }
          }
        }

        .c-review-step-terms-section {
          padding: var(--from-24-to-20px);

          .c-review-step-terms-content {
            flex-direction: column;
            gap: var(--px20);

            .c-review-step-terms-switch {
              align-self: flex-start;
            }
          }
        }
      }
    }
  }
}