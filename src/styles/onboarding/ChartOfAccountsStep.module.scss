.cChartOfAccountsStep {
  &:global {
    &.c-chart-of-accounts-step {
      width: 100%;
      max-width: 100%;

      .c-chart-of-accounts-header {
        text-align: center;
        margin-bottom: var(--from-64-to-40px);

        h2 {
          font-size: var(--font-size-h2);
          font-weight: 700;
          margin-bottom: var(--from-24-to-16px);
          color: var(--neutral-0);
          line-height: 1.125;
        }

        p {
          font-size: var(--from-20-to-16px);
          color: var(--neutral-400);
          margin: 0;
          line-height: 1.5;
        }
      }

      .c-chart-of-accounts-content {
        display: grid;
        gap: var(--from-48-to-32px);
      }

      .c-chart-of-accounts-section {
        background-color: var(--neutral-950);
        border: 1px solid var(--neutral-800);
        border-radius: var(--px16);
        padding: var(--from-32-to-24px);

        .c-chart-of-accounts-section-title {
          font-size: var(--font-size-h4);
          font-weight: 600;
          margin-bottom: var(--from-24-to-20px);
          color: var(--neutral-0);
          line-height: 1.2;
          padding-bottom: var(--px16);
          border-bottom: 1px solid var(--neutral-800);
        }

        .c-chart-of-accounts-section-content {
          display: grid;
          gap: var(--from-24-to-16px);

          @media (min-width: 768px) {
            grid-template-columns: repeat(2, 1fr);
          }

          .c-chart-of-accounts-section-content-full {
            grid-column: 1 / -1;
          }
        }

        .c-chart-of-accounts-subsection {
          background-color: var(--neutral-900);
          border: 1px solid var(--neutral-700);
          border-radius: var(--px12);
          padding: var(--from-24-to-20px);

          .c-chart-of-accounts-subsection-title {
            font-size: var(--font-size-h6);
            font-weight: 600;
            margin-bottom: var(--from-16-to-12px);
            color: var(--neutral-0);
            line-height: 1.33;
          }

          .c-chart-of-accounts-subsection-content {
            display: grid;
            gap: var(--from-20-to-16px);
          }

          .c-chart-of-accounts-checkbox-group {
            display: grid;
            gap: var(--from-16-to-12px);

            .c-chart-of-accounts-checkbox-item {
              display: flex;
              align-items: flex-start;
              gap: var(--px12);
              padding: var(--px16);
              background-color: var(--neutral-800);
              border: 1px solid var(--neutral-700);
              border-radius: var(--px8);
              transition: all 0.3s ease;

              &:hover {
                background-color: var(--neutral-750);
                border-color: var(--neutral-600);
              }

              &.is-checked {
                background-color: color-mix(in srgb, var(--primary-500) 5%, var(--neutral-800));
                border-color: var(--primary-600);
              }

              .c-chart-of-accounts-checkbox {
                margin-top: var(--px2);
              }

              .c-chart-of-accounts-checkbox-content {
                flex: 1;

                .c-chart-of-accounts-checkbox-label {
                  font-size: var(--from-16-to-14px);
                  font-weight: 600;
                  color: var(--neutral-0);
                  margin-bottom: var(--px4);
                  line-height: 1.4;
                }

                .c-chart-of-accounts-checkbox-description {
                  font-size: var(--from-14-to-12px);
                  color: var(--neutral-400);
                  margin: 0;
                  line-height: 1.5;
                }
              }
            }
          }
        }

        .c-ownership-structure-section {
          .c-ownership-structure-form {
            display: grid;
            gap: var(--from-20-to-16px);

            .c-ownership-structure-item {
              display: flex;
              align-items: center;
              gap: var(--px12);
              padding: var(--px16);
              background-color: var(--neutral-900);
              border: 1px solid var(--neutral-700);
              border-radius: var(--px8);

              .c-ownership-structure-item-content {
                flex: 1;
                display: grid;
                gap: var(--px12);

                @media (min-width: 768px) {
                  grid-template-columns: 1fr 1fr auto;
                  align-items: center;
                }

                .c-ownership-structure-item-name {
                  font-size: var(--from-16-to-14px);
                  font-weight: 600;
                  color: var(--neutral-0);
                }

                .c-ownership-structure-item-percentage {
                  font-size: var(--from-14-to-12px);
                  color: var(--neutral-400);
                }

                .c-ownership-structure-item-actions {
                  display: flex;
                  gap: var(--px8);

                  .c-button {
                    padding: var(--px8) var(--px12);
                    font-size: var(--px12);
                    min-width: auto;
                  }
                }
              }
            }

            .c-ownership-structure-add-form {
              display: grid;
              gap: var(--px16);
              padding: var(--px20);
              background-color: var(--neutral-800);
              border-radius: var(--px12);

              @media (min-width: 768px) {
                grid-template-columns: 1fr 1fr auto;
                align-items: end;
              }

              .c-button {
                padding: var(--px12) var(--px20);
                font-size: var(--from-14-to-12px);

                @media (max-width: 767px) {
                  width: 100%;
                }
              }
            }
          }
        }
      }

      .c-chart-of-accounts-tooltip {
        position: relative;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: var(--px20);
        height: var(--px20);
        background-color: var(--neutral-700);
        border-radius: 50%;
        color: var(--neutral-300);
        cursor: help;
        transition: all 0.3s ease;

        &:hover {
          background-color: var(--neutral-600);
          color: var(--neutral-0);
        }

        svg {
          width: var(--px12);
          height: var(--px12);
        }

        .c-chart-of-accounts-tooltip-content {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          margin-bottom: var(--px8);
          padding: var(--px12) var(--px16);
          background-color: var(--neutral-800);
          border: 1px solid var(--neutral-600);
          border-radius: var(--px8);
          font-size: var(--px12);
          color: var(--neutral-200);
          white-space: nowrap;
          opacity: 0;
          visibility: hidden;
          transition: all 0.3s ease;
          z-index: 10;

          &::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 4px solid transparent;
            border-top-color: var(--neutral-600);
          }
        }

        &:hover .c-chart-of-accounts-tooltip-content {
          opacity: 1;
          visibility: visible;
        }
      }

      // Mobile responsiveness
      @media (max-width: 767px) {
        .c-chart-of-accounts-header {
          margin-bottom: var(--from-48-to-32px);

          h2 {
            font-size: var(--font-size-h3);
          }

          p {
            font-size: var(--from-18-to-16px);
          }
        }

        .c-chart-of-accounts-section {
          padding: var(--from-24-to-20px);

          .c-chart-of-accounts-section-title {
            font-size: var(--font-size-h5);
          }

          .c-chart-of-accounts-section-content {
            grid-template-columns: 1fr !important;
          }
        }

        .c-chart-of-accounts-subsection {
          padding: var(--from-20-to-16px);
        }

        .c-ownership-structure-form {
          .c-ownership-structure-item {
            .c-ownership-structure-item-content {
              grid-template-columns: 1fr !important;
              gap: var(--px16);
            }
          }

          .c-ownership-structure-add-form {
            grid-template-columns: 1fr !important;
            gap: var(--px16);
          }
        }
      }
    }
  }
}